---
title: "PML_Final_Project"
author: "Viswathish Dinesh"
date: "`r Sys.Date()`"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

```{r libraries, include=FALSE}
## Output has been muted to prevent unnecessary text
library(caret)
library(rpart)
library(rpart.plot)
library(randomForest)
library(gbm)
```

```{r import data}
training <- read.csv("data/pml-training.csv")
testing <- read.csv("data/pml-testing.csv")
```

```{r data cleaning}
## Remove features with near-zero variance
NZV <- nearZeroVar(training)

training <- training[,-NZV]
testing <- testing[,-NZV]

## Remove features not contributing to accelerometer readings

col_rm <- grepl("^X|timestamp|user_name", names(training))
training <- training[, !col_rm]
testing <- testing[, !col_rm]

## Remove columns with a majority of missing values

na_cols <- sapply(training, function(x) mean(is.na(x))) >.95
training <- training[,!na_cols]
testing <- testing[,!na_cols]
```